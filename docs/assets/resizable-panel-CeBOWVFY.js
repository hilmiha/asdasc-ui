import{r as d,aG as vn,j as Y,G as Sn,aH as bn,aI as Pn}from"./index-DgfOwETY.js";const Ee=d.createContext(null);Ee.displayName="PanelGroupContext";const k={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Ge=10,te=d.useLayoutEffect,We=vn.useId,wn=typeof We=="function"?We:()=>null;let En=0;function Be(e=null){const n=wn(),t=d.useRef(e||n||null);return t.current===null&&(t.current=""+En++),e??t.current}function Ye({children:e,className:n="",collapsedSize:t,collapsible:o,defaultSize:i,forwardedRef:r,id:l,maxSize:s,minSize:a,onCollapse:z,onExpand:w,onResize:p,order:u,style:v,tagName:y="div",...C}){const E=d.useContext(Ee);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:b,expandPanel:L,getPanelSize:H,getPanelStyle:N,groupId:K,isPanelCollapsed:R,reevaluatePanelConstraints:P,registerPanel:W,resizePanel:X,unregisterPanel:F}=E,G=Be(l),D=d.useRef({callbacks:{onCollapse:z,onExpand:w,onResize:p},constraints:{collapsedSize:t,collapsible:o,defaultSize:i,maxSize:s,minSize:a},id:G,idIsFromProps:l!==void 0,order:u});d.useRef({didLogMissingDefaultSizeWarning:!1}),te(()=>{const{callbacks:_,constraints:$}=D.current,B={...$};D.current.id=G,D.current.idIsFromProps=l!==void 0,D.current.order=u,_.onCollapse=z,_.onExpand=w,_.onResize=p,$.collapsedSize=t,$.collapsible=o,$.defaultSize=i,$.maxSize=s,$.minSize=a,(B.collapsedSize!==$.collapsedSize||B.collapsible!==$.collapsible||B.maxSize!==$.maxSize||B.minSize!==$.minSize)&&P(D.current,B)}),te(()=>{const _=D.current;return W(_),()=>{F(_)}},[u,G,W,F]),d.useImperativeHandle(r,()=>({collapse:()=>{b(D.current)},expand:_=>{L(D.current,_)},getId(){return G},getSize(){return H(D.current)},isCollapsed(){return R(D.current)},isExpanded(){return!R(D.current)},resize:_=>{X(D.current,_)}}),[b,L,H,R,G,X]);const ee=N(D.current,i);return d.createElement(y,{...C,children:e,className:n,id:G,style:{...ee,...v},[k.groupId]:K,[k.panel]:"",[k.panelCollapsible]:o||void 0,[k.panelId]:G,[k.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const $e=d.forwardRef((e,n)=>d.createElement(Ye,{...e,forwardedRef:n}));Ye.displayName="Panel";$e.displayName="forwardRef(Panel)";let _e=null,be=-1,Z=null;function Cn(e,n,t){const o=(n&tn)!==0,i=(n&on)!==0,r=(n&rn)!==0,l=(n&ln)!==0;if(n){if(o)return r?"se-resize":l?"ne-resize":"e-resize";if(i)return r?"sw-resize":l?"nw-resize":"w-resize";if(r)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function In(){Z!==null&&(document.head.removeChild(Z),_e=null,Z=null,be=-1)}function ke(e,n,t){var o,i;const r=Cn(e,n);if(_e!==r){if(_e=r,Z===null&&(Z=document.createElement("style"),document.head.appendChild(Z)),be>=0){var l;(l=Z.sheet)===null||l===void 0||l.removeRule(be)}be=(o=(i=Z.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${r} !important;}`))!==null&&o!==void 0?o:-1}}function Ze(e){return e.type==="keydown"}function Qe(e){return e.type.startsWith("pointer")}function en(e){return e.type.startsWith("mouse")}function Ce(e){if(Qe(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(en(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Rn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Ln(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function An(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Ke(e),b:Ke(n)};let o;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),o=e;x(o,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Ve(Ue(t.a)),b:Ve(Ue(t.b))};if(i.a===i.b){const r=o.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let s=r.length;for(;s--;){const a=r[s];if(a===l.a)return 1;if(a===l.b)return-1}}return Math.sign(i.a-i.b)}const kn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Dn(e){var n;const t=getComputedStyle((n=nn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Hn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Dn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||kn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Ue(e){let n=e.length;for(;n--;){const t=e[n];if(x(t,"Missing node"),Hn(t))return t}return null}function Ve(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ke(e){const n=[];for(;e;)n.push(e),e=nn(e);return n}function nn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const tn=1,on=2,rn=4,ln=8,Mn=Rn()==="coarse";let V=[],ae=!1,Q=new Map,Ie=new Map;const ye=new Set;function Nn(e,n,t,o,i){var r;const{ownerDocument:l}=n,s={direction:t,element:n,hitAreaMargins:o,setResizeHandlerState:i},a=(r=Q.get(l))!==null&&r!==void 0?r:0;return Q.set(l,a+1),ye.add(s),Pe(),function(){var w;Ie.delete(e),ye.delete(s);const p=(w=Q.get(l))!==null&&w!==void 0?w:1;if(Q.set(l,p-1),Pe(),p===1&&Q.delete(l),V.includes(s)){const u=V.indexOf(s);u>=0&&V.splice(u,1),Re(),i("up",!0,null)}}}function $n(e){const{target:n}=e,{x:t,y:o}=Ce(e);ae=!0,Te({target:n,x:t,y:o}),Pe(),V.length>0&&(we("down",e),Re(),e.preventDefault(),sn(n)||e.stopImmediatePropagation())}function De(e){const{x:n,y:t}=Ce(e);if(ae&&e.buttons===0&&(ae=!1,we("up",e)),!ae){const{target:o}=e;Te({target:o,x:n,y:t})}we("move",e),Re(),V.length>0&&e.preventDefault()}function He(e){const{target:n}=e,{x:t,y:o}=Ce(e);Ie.clear(),ae=!1,V.length>0&&(e.preventDefault(),sn(n)||e.stopImmediatePropagation()),we("up",e),Te({target:n,x:t,y:o}),Re(),Pe()}function sn(e){let n=e;for(;n;){if(n.hasAttribute(k.resizeHandle))return!0;n=n.parentElement}return!1}function Te({target:e,x:n,y:t}){V.splice(0);let o=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(o=e),ye.forEach(i=>{const{element:r,hitAreaMargins:l}=i,s=r.getBoundingClientRect(),{bottom:a,left:z,right:w,top:p}=s,u=Mn?l.coarse:l.fine;if(n>=z-u&&n<=w+u&&t>=p-u&&t<=a+u){if(o!==null&&document.contains(o)&&r!==o&&!r.contains(o)&&!o.contains(r)&&An(o,r)>0){let y=o,C=!1;for(;y&&!y.contains(r);){if(Ln(y.getBoundingClientRect(),s)){C=!0;break}y=y.parentElement}if(C)return}V.push(i)}})}function Me(e,n){Ie.set(e,n)}function Re(){let e=!1,n=!1;V.forEach(o=>{const{direction:i}=o;i==="horizontal"?e=!0:n=!0});let t=0;Ie.forEach(o=>{t|=o}),e&&n?ke("intersection",t):e?ke("horizontal",t):n?ke("vertical",t):In()}let Ne;function Pe(){var e;(e=Ne)===null||e===void 0||e.abort(),Ne=new AbortController;const n={capture:!0,signal:Ne.signal};ye.size&&(ae?(V.length>0&&Q.forEach((t,o)=>{const{body:i}=o;t>0&&(i.addEventListener("contextmenu",He,n),i.addEventListener("pointerleave",De,n),i.addEventListener("pointermove",De,n))}),Q.forEach((t,o)=>{const{body:i}=o;i.addEventListener("pointerup",He,n),i.addEventListener("pointercancel",He,n)})):Q.forEach((t,o)=>{const{body:i}=o;t>0&&(i.addEventListener("pointerdown",$n,n),i.addEventListener("pointermove",De,n))}))}function we(e,n){ye.forEach(t=>{const{setResizeHandlerState:o}=t,i=V.includes(t);o(e,i,n)})}function _n(){const[e,n]=d.useState(0);return d.useCallback(()=>n(t=>t+1),[])}function x(e,n){if(!e)throw console.error(n),Error(n)}function oe(e,n,t=Ge){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function J(e,n,t=Ge){return oe(e,n,t)===0}function j(e,n,t){return oe(e,n,t)===0}function Gn(e,n,t){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){const i=e[o],r=n[o];if(!j(i,r,t))return!1}return!0}function se({panelConstraints:e,panelIndex:n,size:t}){const o=e[n];x(o!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:r,maxSize:l=100,minSize:s=0}=o;if(oe(t,s)<0)if(r){const a=(i+s)/2;oe(t,a)<0?t=i:t=s}else t=s;return t=Math.min(l,t),t=parseFloat(t.toFixed(Ge)),t}function me({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:o,prevLayout:i,trigger:r}){if(j(e,0))return n;const l=[...n],[s,a]=o;x(s!=null,"Invalid first pivot index"),x(a!=null,"Invalid second pivot index");let z=0;if(r==="keyboard"){{const p=e<0?a:s,u=t[p];x(u,`Panel constraints not found for index ${p}`);const{collapsedSize:v=0,collapsible:y,minSize:C=0}=u;if(y){const E=n[p];if(x(E!=null,`Previous layout not found for panel index ${p}`),j(E,v)){const b=C-E;oe(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}{const p=e<0?s:a,u=t[p];x(u,`No panel constraints found for index ${p}`);const{collapsedSize:v=0,collapsible:y,minSize:C=0}=u;if(y){const E=n[p];if(x(E!=null,`Previous layout not found for panel index ${p}`),j(E,C)){const b=E-v;oe(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}}{const p=e<0?1:-1;let u=e<0?a:s,v=0;for(;;){const C=n[u];x(C!=null,`Previous layout not found for panel index ${u}`);const b=se({panelConstraints:t,panelIndex:u,size:100})-C;if(v+=b,u+=p,u<0||u>=t.length)break}const y=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-y:y}{let u=e<0?s:a;for(;u>=0&&u<t.length;){const v=Math.abs(e)-Math.abs(z),y=n[u];x(y!=null,`Previous layout not found for panel index ${u}`);const C=y-v,E=se({panelConstraints:t,panelIndex:u,size:C});if(!j(y,E)&&(z+=y-E,l[u]=E,z.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(Gn(i,l))return i;{const p=e<0?a:s,u=n[p];x(u!=null,`Previous layout not found for panel index ${p}`);const v=u+z,y=se({panelConstraints:t,panelIndex:p,size:v});if(l[p]=y,!j(y,v)){let C=v-y,b=e<0?a:s;for(;b>=0&&b<t.length;){const L=l[b];x(L!=null,`Previous layout not found for panel index ${b}`);const H=L+C,N=se({panelConstraints:t,panelIndex:b,size:H});if(j(L,N)||(C-=N-L,l[b]=N),j(C,0))break;e>0?b--:b++}}}const w=l.reduce((p,u)=>u+p,0);return j(w,100)?l:i}function Bn({layout:e,panelsArray:n,pivotIndices:t}){let o=0,i=100,r=0,l=0;const s=t[0];x(s!=null,"No pivot index found"),n.forEach((p,u)=>{const{constraints:v}=p,{maxSize:y=100,minSize:C=0}=v;u===s?(o=C,i=y):(r+=C,l+=y)});const a=Math.min(i,100-r),z=Math.max(o,100-l),w=e[s];return{valueMax:a,valueMin:z,valueNow:w}}function he(e,n=document){return Array.from(n.querySelectorAll(`[${k.resizeHandleId}][data-panel-group-id="${e}"]`))}function an(e,n,t=document){const i=he(e,t).findIndex(r=>r.getAttribute(k.resizeHandleId)===n);return i??null}function un(e,n,t){const o=an(e,n,t);return o!=null?[o,o+1]:[-1,-1]}function Tn(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function cn(e,n=document){if(Tn(n)&&n.dataset.panelGroupId==e)return n;const t=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return t||null}function Le(e,n=document){const t=n.querySelector(`[${k.resizeHandleId}="${e}"]`);return t||null}function Fn(e,n,t,o=document){var i,r,l,s;const a=Le(n,o),z=he(e,o),w=a?z.indexOf(a):-1,p=(i=(r=t[w])===null||r===void 0?void 0:r.id)!==null&&i!==void 0?i:null,u=(l=(s=t[w+1])===null||s===void 0?void 0:s.id)!==null&&l!==void 0?l:null;return[p,u]}function jn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:o,panelDataArray:i,panelGroupElement:r,setLayout:l}){d.useRef({didWarnAboutMissingResizeHandle:!1}),te(()=>{if(!r)return;const s=he(t,r);for(let a=0;a<i.length-1;a++){const{valueMax:z,valueMin:w,valueNow:p}=Bn({layout:o,panelsArray:i,pivotIndices:[a,a+1]}),u=s[a];if(u!=null){const v=i[a];x(v,`No panel data found for index "${a}"`),u.setAttribute("aria-controls",v.id),u.setAttribute("aria-valuemax",""+Math.round(z)),u.setAttribute("aria-valuemin",""+Math.round(w)),u.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{s.forEach((a,z)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[t,o,i,r]),d.useEffect(()=>{if(!r)return;const s=n.current;x(s,"Eager values not found");const{panelDataArray:a}=s,z=cn(t,r);x(z!=null,`No group found for id "${t}"`);const w=he(t,r);x(w,`No resize handles found for group id "${t}"`);const p=w.map(u=>{const v=u.getAttribute(k.resizeHandleId);x(v,"Resize handle element has no handle id attribute");const[y,C]=Fn(t,v,a,r);if(y==null||C==null)return()=>{};const E=b=>{if(!b.defaultPrevented)switch(b.key){case"Enter":{b.preventDefault();const L=a.findIndex(H=>H.id===y);if(L>=0){const H=a[L];x(H,`No panel data found for index ${L}`);const N=o[L],{collapsedSize:K=0,collapsible:R,minSize:P=0}=H.constraints;if(N!=null&&R){const W=me({delta:j(N,K)?P-K:K-N,initialLayout:o,panelConstraints:a.map(X=>X.constraints),pivotIndices:un(t,v,r),prevLayout:o,trigger:"keyboard"});o!==W&&l(W)}}break}}};return u.addEventListener("keydown",E),()=>{u.removeEventListener("keydown",E)}});return()=>{p.forEach(u=>u())}},[r,e,n,t,o,i,l])}function Oe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function dn(e,n){const t=e==="horizontal",{x:o,y:i}=Ce(n);return t?o:i}function Wn(e,n,t,o,i){const r=t==="horizontal",l=Le(n,i);x(l,`No resize handle element found for id "${n}"`);const s=l.getAttribute(k.groupId);x(s,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=o;const z=dn(t,e),w=cn(s,i);x(w,`No group element found for id "${s}"`);const p=w.getBoundingClientRect(),u=r?p.width:p.height;return(z-a)/u*100}function Un(e,n,t,o,i,r){if(Ze(e)){const l=t==="horizontal";let s=0;e.shiftKey?s=100:i!=null?s=i:s=10;let a=0;switch(e.key){case"ArrowDown":a=l?0:s;break;case"ArrowLeft":a=l?-s:0;break;case"ArrowRight":a=l?s:0;break;case"ArrowUp":a=l?0:-s;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return o==null?0:Wn(e,n,t,o,r)}function Vn({panelDataArray:e}){const n=Array(e.length),t=e.map(r=>r.constraints);let o=0,i=100;for(let r=0;r<e.length;r++){const l=t[r];x(l,`Panel constraints not found for index ${r}`);const{defaultSize:s}=l;s!=null&&(o++,n[r]=s,i-=s)}for(let r=0;r<e.length;r++){const l=t[r];x(l,`Panel constraints not found for index ${r}`);const{defaultSize:s}=l;if(s!=null)continue;const a=e.length-o,z=i/a;o++,n[r]=z,i-=z}return n}function ie(e,n,t){n.forEach((o,i)=>{const r=e[i];x(r,`Panel data not found for index ${i}`);const{callbacks:l,constraints:s,id:a}=r,{collapsedSize:z=0,collapsible:w}=s,p=t[a];if(p==null||o!==p){t[a]=o;const{onCollapse:u,onExpand:v,onResize:y}=l;y&&y(o,p),w&&(u||v)&&(v&&(p==null||J(p,z))&&!J(o,z)&&v(),u&&(p==null||!J(p,z))&&J(o,z)&&u())}})}function Se(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Kn({defaultSize:e,dragState:n,layout:t,panelData:o,panelIndex:i,precision:r=3}){const l=t[i];let s;return l==null?s=e!=null?e.toFixed(r):"1":o.length===1?s="1":s=l.toFixed(r),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function On(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function qe(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function fn(e){return`react-resizable-panels:${e}`}function pn(e){return e.map(n=>{const{constraints:t,id:o,idIsFromProps:i,order:r}=n;return i?o:r?`${r}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function gn(e,n){try{const t=fn(e),o=n.getItem(t);if(o){const i=JSON.parse(o);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function qn(e,n,t){var o,i;const r=(o=gn(e,t))!==null&&o!==void 0?o:{},l=pn(n);return(i=r[l])!==null&&i!==void 0?i:null}function Xn(e,n,t,o,i){var r;const l=fn(e),s=pn(n),a=(r=gn(e,i))!==null&&r!==void 0?r:{};a[s]={expandToSizes:Object.fromEntries(t.entries()),layout:o};try{i.setItem(l,JSON.stringify(a))}catch(z){console.error(z)}}function Xe({layout:e,panelConstraints:n}){const t=[...e],o=t.reduce((r,l)=>r+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(r=>`${r}%`).join(", ")}`);if(!j(o,100)&&t.length>0)for(let r=0;r<n.length;r++){const l=t[r];x(l!=null,`No layout data found for index ${r}`);const s=100/o*l;t[r]=s}let i=0;for(let r=0;r<n.length;r++){const l=t[r];x(l!=null,`No layout data found for index ${r}`);const s=se({panelConstraints:n,panelIndex:r,size:l});l!=s&&(i+=l-s,t[r]=s)}if(!j(i,0))for(let r=0;r<n.length;r++){const l=t[r];x(l!=null,`No layout data found for index ${r}`);const s=l+i,a=se({panelConstraints:n,panelIndex:r,size:s});if(l!==a&&(i-=a-l,t[r]=a,j(i,0)))break}return t}const Jn=100,ze={getItem:e=>(qe(ze),ze.getItem(e)),setItem:(e,n)=>{qe(ze),ze.setItem(e,n)}},Je={};function mn({autoSaveId:e=null,children:n,className:t="",direction:o,forwardedRef:i,id:r=null,onLayout:l=null,keyboardResizeBy:s=null,storage:a=ze,style:z,tagName:w="div",...p}){const u=Be(r),v=d.useRef(null),[y,C]=d.useState(null),[E,b]=d.useState([]),L=_n(),H=d.useRef({}),N=d.useRef(new Map),K=d.useRef(0),R=d.useRef({autoSaveId:e,direction:o,dragState:y,id:u,keyboardResizeBy:s,onLayout:l,storage:a}),P=d.useRef({layout:E,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(i,()=>({getId:()=>R.current.id,getLayout:()=>{const{layout:c}=P.current;return c},setLayout:c=>{const{onLayout:m}=R.current,{layout:S,panelDataArray:g}=P.current,f=Xe({layout:c,panelConstraints:g.map(h=>h.constraints)});Oe(S,f)||(b(f),P.current.layout=f,m&&m(f),ie(g,f,H.current))}}),[]),te(()=>{R.current.autoSaveId=e,R.current.direction=o,R.current.dragState=y,R.current.id=u,R.current.onLayout=l,R.current.storage=a}),jn({committedValuesRef:R,eagerValuesRef:P,groupId:u,layout:E,panelDataArray:P.current.panelDataArray,setLayout:b,panelGroupElement:v.current}),d.useEffect(()=>{const{panelDataArray:c}=P.current;if(e){if(E.length===0||E.length!==c.length)return;let m=Je[e];m==null&&(m=On(Xn,Jn),Je[e]=m);const S=[...c],g=new Map(N.current);m(e,S,g,E,a)}},[e,E,a]),d.useEffect(()=>{});const W=d.useCallback(c=>{const{onLayout:m}=R.current,{layout:S,panelDataArray:g}=P.current;if(c.constraints.collapsible){const f=g.map(O=>O.constraints),{collapsedSize:h=0,panelSize:I,pivotIndices:M}=ne(g,c,S);if(x(I!=null,`Panel size not found for panel "${c.id}"`),!J(I,h)){N.current.set(c.id,I);const q=le(g,c)===g.length-1?I-h:h-I,A=me({delta:q,initialLayout:S,panelConstraints:f,pivotIndices:M,prevLayout:S,trigger:"imperative-api"});Se(S,A)||(b(A),P.current.layout=A,m&&m(A),ie(g,A,H.current))}}},[]),X=d.useCallback((c,m)=>{const{onLayout:S}=R.current,{layout:g,panelDataArray:f}=P.current;if(c.constraints.collapsible){const h=f.map(U=>U.constraints),{collapsedSize:I=0,panelSize:M=0,minSize:O=0,pivotIndices:q}=ne(f,c,g),A=m??O;if(J(M,I)){const U=N.current.get(c.id),pe=U!=null&&U>=A?U:A,Ae=le(f,c)===f.length-1?M-pe:pe-M,T=me({delta:Ae,initialLayout:g,panelConstraints:h,pivotIndices:q,prevLayout:g,trigger:"imperative-api"});Se(g,T)||(b(T),P.current.layout=T,S&&S(T),ie(f,T,H.current))}}},[]),F=d.useCallback(c=>{const{layout:m,panelDataArray:S}=P.current,{panelSize:g}=ne(S,c,m);return x(g!=null,`Panel size not found for panel "${c.id}"`),g},[]),G=d.useCallback((c,m)=>{const{panelDataArray:S}=P.current,g=le(S,c);return Kn({defaultSize:m,dragState:y,layout:E,panelData:S,panelIndex:g})},[y,E]),D=d.useCallback(c=>{const{layout:m,panelDataArray:S}=P.current,{collapsedSize:g=0,collapsible:f,panelSize:h}=ne(S,c,m);return x(h!=null,`Panel size not found for panel "${c.id}"`),f===!0&&J(h,g)},[]),ee=d.useCallback(c=>{const{layout:m,panelDataArray:S}=P.current,{collapsedSize:g=0,collapsible:f,panelSize:h}=ne(S,c,m);return x(h!=null,`Panel size not found for panel "${c.id}"`),!f||oe(h,g)>0},[]),_=d.useCallback(c=>{const{panelDataArray:m}=P.current;m.push(c),m.sort((S,g)=>{const f=S.order,h=g.order;return f==null&&h==null?0:f==null?-1:h==null?1:f-h}),P.current.panelDataArrayChanged=!0,L()},[L]);te(()=>{if(P.current.panelDataArrayChanged){P.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:m,storage:S}=R.current,{layout:g,panelDataArray:f}=P.current;let h=null;if(c){const M=qn(c,f,S);M&&(N.current=new Map(Object.entries(M.expandToSizes)),h=M.layout)}h==null&&(h=Vn({panelDataArray:f}));const I=Xe({layout:h,panelConstraints:f.map(M=>M.constraints)});Oe(g,I)||(b(I),P.current.layout=I,m&&m(I),ie(f,I,H.current))}}),te(()=>{const c=P.current;return()=>{c.layout=[]}},[]);const $=d.useCallback(c=>{let m=!1;const S=v.current;return S&&window.getComputedStyle(S,null).getPropertyValue("direction")==="rtl"&&(m=!0),function(f){f.preventDefault();const h=v.current;if(!h)return()=>null;const{direction:I,dragState:M,id:O,keyboardResizeBy:q,onLayout:A}=R.current,{layout:U,panelDataArray:pe}=P.current,{initialLayout:ve}=M??{},Ae=un(O,c,h);let T=Un(f,c,I,M,q,h);const Fe=I==="horizontal";Fe&&m&&(T=-T);const hn=pe.map(xn=>xn.constraints),ge=me({delta:T,initialLayout:ve??U,panelConstraints:hn,pivotIndices:Ae,prevLayout:U,trigger:Ze(f)?"keyboard":"mouse-or-touch"}),je=!Se(U,ge);(Qe(f)||en(f))&&K.current!=T&&(K.current=T,!je&&T!==0?Fe?Me(c,T<0?tn:on):Me(c,T<0?rn:ln):Me(c,0)),je&&(b(ge),P.current.layout=ge,A&&A(ge),ie(pe,ge,H.current))}},[]),B=d.useCallback((c,m)=>{const{onLayout:S}=R.current,{layout:g,panelDataArray:f}=P.current,h=f.map(U=>U.constraints),{panelSize:I,pivotIndices:M}=ne(f,c,g);x(I!=null,`Panel size not found for panel "${c.id}"`);const q=le(f,c)===f.length-1?I-m:m-I,A=me({delta:q,initialLayout:g,panelConstraints:h,pivotIndices:M,prevLayout:g,trigger:"imperative-api"});Se(g,A)||(b(A),P.current.layout=A,S&&S(A),ie(f,A,H.current))},[]),ue=d.useCallback((c,m)=>{const{layout:S,panelDataArray:g}=P.current,{collapsedSize:f=0,collapsible:h}=m,{collapsedSize:I=0,collapsible:M,maxSize:O=100,minSize:q=0}=c.constraints,{panelSize:A}=ne(g,c,S);A!=null&&(h&&M&&J(A,f)?J(f,I)||B(c,I):A<q?B(c,q):A>O&&B(c,O))},[B]),ce=d.useCallback((c,m)=>{const{direction:S}=R.current,{layout:g}=P.current;if(!v.current)return;const f=Le(c,v.current);x(f,`Drag handle element not found for id "${c}"`);const h=dn(S,m);C({dragHandleId:c,dragHandleRect:f.getBoundingClientRect(),initialCursorPosition:h,initialLayout:g})},[]),de=d.useCallback(()=>{C(null)},[]),xe=d.useCallback(c=>{const{panelDataArray:m}=P.current,S=le(m,c);S>=0&&(m.splice(S,1),delete H.current[c.id],P.current.panelDataArrayChanged=!0,L())},[L]),re=d.useMemo(()=>({collapsePanel:W,direction:o,dragState:y,expandPanel:X,getPanelSize:F,getPanelStyle:G,groupId:u,isPanelCollapsed:D,isPanelExpanded:ee,reevaluatePanelConstraints:ue,registerPanel:_,registerResizeHandle:$,resizePanel:B,startDragging:ce,stopDragging:de,unregisterPanel:xe,panelGroupElement:v.current}),[W,y,o,X,F,G,u,D,ee,ue,_,$,B,ce,de,xe]),fe={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(Ee.Provider,{value:re},d.createElement(w,{...p,children:n,className:t,id:r,ref:v,style:{...fe,...z},[k.group]:"",[k.groupDirection]:o,[k.groupId]:u}))}const zn=d.forwardRef((e,n)=>d.createElement(mn,{...e,forwardedRef:n}));mn.displayName="PanelGroup";zn.displayName="forwardRef(PanelGroup)";function le(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const o=le(e,n),r=o===e.length-1?[o-1,o]:[o,o+1],l=t[o];return{...n.constraints,panelSize:l,pivotIndices:r}}function Yn({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:o}){d.useEffect(()=>{if(e||t==null||o==null)return;const i=Le(n,o);if(i==null)return;const r=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const s=i.getAttribute(k.groupId);x(s,`No group element found for id "${s}"`);const a=he(s,o),z=an(s,n,o);x(z!==null,`No resize element found for id "${n}"`);const w=l.shiftKey?z>0?z-1:a.length-1:z+1<a.length?z+1:0;a[w].focus();break}}};return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[o,e,n,t])}function yn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:o,id:i,onBlur:r,onClick:l,onDragging:s,onFocus:a,onPointerDown:z,onPointerUp:w,style:p={},tabIndex:u=0,tagName:v="div",...y}){var C,E;const b=d.useRef(null),L=d.useRef({onClick:l,onDragging:s,onPointerDown:z,onPointerUp:w});d.useEffect(()=>{L.current.onClick=l,L.current.onDragging=s,L.current.onPointerDown=z,L.current.onPointerUp=w});const H=d.useContext(Ee);if(H===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:K,registerResizeHandle:R,startDragging:P,stopDragging:W,panelGroupElement:X}=H,F=Be(i),[G,D]=d.useState("inactive"),[ee,_]=d.useState(!1),[$,B]=d.useState(null),ue=d.useRef({state:G});te(()=>{ue.current.state=G}),d.useEffect(()=>{if(t)B(null);else{const re=R(F);B(()=>re)}},[t,F,R]);const ce=(C=o?.coarse)!==null&&C!==void 0?C:15,de=(E=o?.fine)!==null&&E!==void 0?E:5;d.useEffect(()=>{if(t||$==null)return;const re=b.current;x(re,"Element ref not attached");let fe=!1;return Nn(F,re,N,{coarse:ce,fine:de},(m,S,g)=>{if(!S){D("inactive");return}switch(m){case"down":{D("drag"),fe=!1,x(g,'Expected event to be defined for "down" action'),P(F,g);const{onDragging:f,onPointerDown:h}=L.current;f?.(!0),h?.();break}case"move":{const{state:f}=ue.current;fe=!0,f!=="drag"&&D("hover"),x(g,'Expected event to be defined for "move" action'),$(g);break}case"up":{D("hover"),W();const{onClick:f,onDragging:h,onPointerUp:I}=L.current;h?.(!1),I?.(),fe||f?.();break}}})},[ce,N,t,de,R,F,$,P,W]),Yn({disabled:t,handleId:F,resizeHandler:$,panelGroupElement:X});const xe={touchAction:"none",userSelect:"none"};return d.createElement(v,{...y,children:e,className:n,id:i,onBlur:()=>{_(!1),r?.()},onFocus:()=>{_(!0),a?.()},ref:b,role:"separator",style:{...xe,...p},tabIndex:u,[k.groupDirection]:N,[k.groupId]:K,[k.resizeHandle]:"",[k.resizeHandleActive]:G==="drag"?"pointer":ee?"keyboard":void 0,[k.resizeHandleEnabled]:!t,[k.resizeHandleId]:F,[k.resizeHandleState]:G})}yn.displayName="PanelResizeHandle";const Qn=({children:e,isSavePanelSize:n,direction:t,minHeight:o,maxHeight:i})=>Y.jsx(zn,{autoSaveId:n?"conditional":void 0,direction:t,className:`resizable-panel-group ${t}`,style:{minHeight:o,maxHeight:i},children:e}),et=({direction:e})=>{const{screenSize:n}=d.useContext(Sn);return Y.jsx(yn,{className:"resizable-handle",children:n==="mobile"&&Y.jsx("div",{className:"handle-box",children:e==="horizontal"?Y.jsx(bn,{size:12,className:"handle-icon"}):Y.jsx(Pn,{size:12,className:"handle-icon"})})})},nt=({id:e=void 0,children:n,order:t=void 0,minPanelSize:o=0,defaultPanelSize:i=50,minContentWidth:r="80px",isOverFlow:l=!1})=>d.useMemo(()=>typeof n.type=="function",[])?Y.jsx($e,{id:e,minSize:o,defaultSize:i,order:t,children:n}):Y.jsx($e,{id:e,minSize:o,defaultSize:i,children:Y.jsx("div",{className:"resizable-panel",style:{overflow:"auto"},children:Y.jsx("div",{style:{minWidth:r},children:n})})});export{Qn as R,nt as a,et as b};
