import{r as g,am as O,j as c,I as C,a as j,P as S,N as k,_ as I,c as N}from"./index-CBNwoYaW.js";const w=(e,l)=>{l(n=>{const s=new Set(n),a=e.id,d=v(e);return s.has(a)?(s.delete(a),d.forEach(i=>{s.delete(i)})):(s.add(a),d.forEach(i=>{s.add(i)})),s})},v=e=>!e.childOption||e.childOption.length===0?[]:e.childOption.filter(l=>l.childOption&&l.childOption.length>0).map(l=>l.id),f=e=>!e.childOption||e.childOption.length===0?[e.id]:e.childOption.flatMap(f),b=e=>!e.childOption||e.childOption.length===0?e.isDisabled?[e.id]:[]:e.childOption.flatMap(b),E=(e,l)=>{if(!e.childOption||e.childOption.length===0)return{checked:l.has(e.id),indeterminate:!1};const n=f(e),s=n.filter(a=>l.has(a)).length;return{checked:s===n.length,indeterminate:s>0&&s<n.length}},B=(e,l,n,s)=>{const a=new Set(n),d=f(e),i=b(e),h=d.filter(r=>a.has(r));d.forEach(r=>{l&&d.length-i.length!==h.length?a.add(r):a.delete(r)}),l&&i.forEach(r=>{a.delete(r)}),s&&s([...a])},L=({options:e=[],selectedList:l=[],isDisabled:n=!1,isDefaultCollapse:s=!0,onChange:a=void 0})=>{const d=new Set(l),[i,h]=g.useState(new Set),r=O(()=>JSON.stringify(e).includes("childOption"),[e]),x=t=>{const o=E(t,d),m=t.childOption&&t.childOption.length>0,u=s?i.has(t.id):!i.has(t.id);return t.type==="separator"?null:c.jsxs("div",{className:"checkbox-tree-box",children:[c.jsxs("div",{className:"parent-box",children:[m?c.jsx(C,{appearance:"subtle",className:"collapse-button",onClick:()=>{w(t,h)},icon:u?c.jsx(j,{className:"global-icon"}):c.jsx(S,{className:"global-icon"}),txtLabel:u?"Expand Option":"Collapse Option",isShowtooltip:!1}):r?c.jsx(k,{className:"global-icon",color:"transparent",style:{margin:"calc(var(--space-50) + 1px)"}}):c.jsx(c.Fragment,{}),c.jsx(I,{isSelected:o.checked&&!o.indeterminate,isIndeterminate:o.indeterminate,txtLabel:t.txtLabel,txtSublabel:t.txtSublabel,icon:t.icon,onClick:p=>B(t,p,d,a),isDisabled:n||t.isDisabled})]}),m&&c.jsx("div",{className:N("child-box",u?"closed":"opened"),children:c.jsx("div",{children:t.childOption.map(x)})})]},t.id)};return c.jsx("div",{children:e.map(t=>x(t))})};export{L as C};
