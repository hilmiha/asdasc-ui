import{r as p,am as O,j as n,I as C,h as j,ag as S,M as k,Z as I,i as N}from"./index-u7RRe44t.js";const w=(e,l)=>{l(c=>{const s=new Set(c),a=e.id,i=v(e);return s.has(a)?(s.delete(a),i.forEach(d=>{s.delete(d)})):(s.add(a),i.forEach(d=>{s.add(d)})),s})},v=e=>!e.childOption||e.childOption.length===0?[]:e.childOption.filter(l=>l.childOption&&l.childOption.length>0).map(l=>l.id),f=e=>!e.childOption||e.childOption.length===0?[e.id]:e.childOption.flatMap(f),b=e=>!e.childOption||e.childOption.length===0?e.isDisabled?[e.id]:[]:e.childOption.flatMap(b),E=(e,l)=>{if(!e.childOption||e.childOption.length===0)return{checked:l.has(e.id),indeterminate:!1};const c=f(e),s=c.filter(a=>l.has(a)).length;return{checked:s===c.length,indeterminate:s>0&&s<c.length}},B=(e,l,c,s)=>{const a=new Set(c),i=f(e),d=b(e),h=i.filter(r=>a.has(r));i.forEach(r=>{l&&i.length-d.length!==h.length?a.add(r):a.delete(r)}),l&&d.forEach(r=>{a.delete(r)}),s&&s([...a])},L=({options:e=[],selectedList:l=[],isDisabled:c=!1,isDefaultCollapse:s=!0,onChange:a=void 0})=>{const i=new Set(l),[d,h]=p.useState(new Set),r=O(()=>JSON.stringify(e).includes("childOption"),[e]),x=t=>{const o=E(t,i),m=t.childOption&&t.childOption.length>0,u=s?d.has(t.id):!d.has(t.id);return t.type==="separator"?null:n.jsxs("div",{className:"checkbox-tree-box",children:[n.jsxs("div",{className:"parent-box",children:[m?n.jsx(C,{appearance:"subtle",className:"collapse-button",onClick:()=>{w(t,h)},icon:u?n.jsx(j,{className:"global-icon"}):n.jsx(S,{className:"global-icon"}),txtLabel:u?"Expand Option":"Collapse Option",isShowtooltip:!1}):r?n.jsx(k,{className:"global-icon",color:"transparent",style:{margin:"calc(var(--space-50) + 1px)"}}):n.jsx(n.Fragment,{}),n.jsx(I,{isSelected:o.checked&&!o.indeterminate,isIndeterminate:o.indeterminate,txtLabel:t.txtLabel,txtSublabel:t.txtSublabel,icon:t.icon,onClick:g=>B(t,g,i,a),isDisabled:c||t.isDisabled})]}),m&&n.jsx("div",{className:N("child-box",u?"closed":"opened"),children:n.jsx("div",{children:t.childOption.map(x)})})]},t.id)};return n.jsx("div",{children:e.map(t=>x(t))})};export{L as C};
