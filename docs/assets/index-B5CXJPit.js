import{r as p,Z as O,j as n,I as C,g as j,T as S,d as k,C as I,E as N}from"./index-BIzDLPgR.js";const w=(e,l)=>{l(c=>{const s=new Set(c),a=e.id,d=E(e);return s.has(a)?(s.delete(a),d.forEach(i=>{s.delete(i)})):(s.add(a),d.forEach(i=>{s.add(i)})),s})},E=e=>!e.childOption||e.childOption.length===0?[]:e.childOption.filter(l=>l.childOption&&l.childOption.length>0).map(l=>l.id),f=e=>!e.childOption||e.childOption.length===0?[e.id]:e.childOption.flatMap(f),m=e=>!e.childOption||e.childOption.length===0?e.isDisabled?[e.id]:[]:e.childOption.flatMap(m),v=(e,l)=>{if(!e.childOption||e.childOption.length===0)return{checked:l.has(e.id),indeterminate:!1};const c=f(e),s=c.filter(a=>l.has(a)).length;return{checked:s===c.length,indeterminate:s>0&&s<c.length}},B=(e,l,c,s)=>{const a=new Set(c),d=f(e),i=m(e),h=d.filter(r=>a.has(r));d.forEach(r=>{l&&d.length-i.length!==h.length?a.add(r):a.delete(r)}),l&&i.forEach(r=>{a.delete(r)}),s&&s([...a])},L=({options:e=[],selectedList:l=[],isDisabled:c=!1,isDefaultCollapse:s=!0,onChange:a=void 0})=>{const d=new Set(l),[i,h]=p.useState(new Set),r=O(()=>JSON.stringify(e).includes("childOption"),[e]),x=t=>{const o=v(t,d),b=t.childOption&&t.childOption.length>0,u=s?i.has(t.id):!i.has(t.id);return t.type==="separator"?null:n.jsxs("div",{className:"checkbox-tree-box",children:[n.jsxs("div",{className:"parent-box",children:[b?n.jsx(C,{appearance:"subtle",className:"collapse-button",onClick:()=>{w(t,h)},icon:u?n.jsx(j,{className:"global-icon"}):n.jsx(S,{className:"global-icon"}),txtLabel:u?"Expand Option":"Collapse Option",isShowtooltip:!1}):r?n.jsx(k,{className:"global-icon",color:"transparent",style:{margin:"calc(var(--space-50) + 1px)"}}):n.jsx(n.Fragment,{}),n.jsx(I,{isSelected:o.checked&&!o.indeterminate,isIndeterminate:o.indeterminate,txtLabel:t.txtLabel,txtSublabel:t.txtSublabel,icon:t.icon,onClick:g=>B(t,g,d,a),isDisabled:c||t.isDisabled})]}),b&&n.jsx("div",{className:N("child-box",u?"closed":"opened"),children:n.jsx("div",{children:t.childOption.map(x)})})]},t.id)};return n.jsx("div",{children:e.map(t=>x(t))})};export{L as C};
