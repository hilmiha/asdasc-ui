import{r,G as S,j as e,c as p,I as C,ai as E,aj as G,ak as T,a8 as B}from"./index-CBNwoYaW.js";const y=(t,a,i,s)=>{s(l=>l<t-1?l+1:a||i?0:l)},D=(t,a,i)=>{i(s=>s>0?s-1:a?t-1:s)},$=(t,a)=>{a(t)},w=({className:t,shape:a,height:i,isAutoRunning:s=!0,autoRunInterval:l=5e3,canLoop:n=!0,indicatorPosition:v="center",children:j})=>{const{globalShape:k}=r.useContext(S),[o,f]=r.useState(0),[u,g]=r.useState(!1),x=j.length,d=r.useRef(0),m=r.useRef(null),b=r.useRef(0),F=o>0||n,P=o<x-1||n;return r.useEffect(()=>{if(!s||u)return;let N=performance.now();const c=h=>{const I=h-N;N=h,d.current+=I/l*100,d.current>=100&&(d.current=0,y(x,n,s,f)),m.current&&(m.current.style.width=`${d.current}%`),b.current=requestAnimationFrame(c)};return b.current=requestAnimationFrame(c),()=>{b.current&&cancelAnimationFrame(b.current)}},[s,u,l,x,n]),r.useEffect(()=>{d.current=0,m.current&&(m.current.style.width="0%")},[o]),e.jsxs("div",{className:p("carousel-box",a||k,t),style:{justifyContent:v},children:[e.jsx("div",{className:"main-carousel",children:e.jsx("div",{className:"carousel-container",style:{transform:`translateX(-${o*100}%)`,height:`${i??"420px"}`},children:j})}),e.jsxs("div",{className:"button-carousel-box",children:[e.jsx(C,{className:"nex-prev-button",icon:e.jsx(E,{className:"global-icon"}),txtLabel:"Prev.",appearance:"subtle",onClick:()=>{D(x,n,f)},isDisabled:!F}),e.jsxs("div",{className:"indicator-box",children:[j.map((N,c)=>e.jsx("button",{tabIndex:-1,onClick:()=>{$(c,f)},className:p("indicator-button",{selected:c===o}),children:c===o&&s&&e.jsx("div",{className:"time-indicator",ref:m})},c)),s&&e.jsx(C,{className:"play-pause-button",icon:u?e.jsx(G,{size:12}):e.jsx(T,{size:12}),txtLabel:u?"Play":"Pause",appearance:"subtle",onClick:()=>g(!u),isDisabled:!P})]}),e.jsx(C,{className:"nex-prev-button",icon:e.jsx(B,{className:"global-icon"}),txtLabel:"Next",appearance:"subtle",onClick:()=>{y(x,n,s,f)},isDisabled:!P})]})]})},z=({children:t})=>e.jsx("div",{className:"carousel-child-box",children:t});export{w as C,z as a};
