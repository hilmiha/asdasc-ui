import{r as g,u as O,j as c,I as C,a as j,P as S,a7 as k,c as I}from"./index-B21eXWte.js";import{C as N}from"./index-CdK-XHV9.js";const w=(e,l)=>{l(n=>{const s=new Set(n),a=e.id,i=v(e);return s.has(a)?(s.delete(a),i.forEach(d=>{s.delete(d)})):(s.add(a),i.forEach(d=>{s.add(d)})),s})},v=e=>!e.childOption||e.childOption.length===0?[]:e.childOption.filter(l=>l.childOption&&l.childOption.length>0).map(l=>l.id),f=e=>!e.childOption||e.childOption.length===0?[e.id]:e.childOption.flatMap(f),b=e=>!e.childOption||e.childOption.length===0?e.isDisabled?[e.id]:[]:e.childOption.flatMap(b),E=(e,l)=>{if(!e.childOption||e.childOption.length===0)return{checked:l.has(e.id),indeterminate:!1};const n=f(e),s=n.filter(a=>l.has(a)).length;return{checked:s===n.length,indeterminate:s>0&&s<n.length}},B=(e,l,n,s)=>{const a=new Set(n),i=f(e),d=b(e),h=i.filter(r=>a.has(r));i.forEach(r=>{l&&i.length-d.length!==h.length?a.add(r):a.delete(r)}),l&&d.forEach(r=>{a.delete(r)}),s&&s([...a])},P=({options:e=[],selectedList:l=[],isDisabled:n=!1,isDefaultCollapse:s=!0,onChange:a=void 0})=>{const i=new Set(l),[d,h]=g.useState(new Set),r=O(()=>JSON.stringify(e).includes("childOption"),[e]),x=t=>{const o=E(t,i),m=t.childOption&&t.childOption.length>0,u=s?d.has(t.id):!d.has(t.id);return t.type==="separator"?null:c.jsxs("div",{className:"checkbox-tree-box",children:[c.jsxs("div",{className:"parent-box",children:[m?c.jsx(C,{appearance:"subtle",className:"collapse-button",onClick:()=>{w(t,h)},icon:u?c.jsx(j,{className:"global-icon"}):c.jsx(S,{className:"global-icon"}),txtLabel:u?"Expand Option":"Collapse Option",isShowtooltip:!1}):r?c.jsx(k,{className:"global-icon",color:"transparent",style:{margin:"calc(var(--space-50) + 1px)"}}):c.jsx(c.Fragment,{}),c.jsx(N,{isSelected:o.checked&&!o.indeterminate,isIndeterminate:o.indeterminate,txtLabel:t.txtLabel,txtSublabel:t.txtSublabel,icon:t.icon,onClick:p=>B(t,p,i,a),isDisabled:n||t.isDisabled})]}),m&&c.jsx("div",{className:I("child-box",u?"closed":"opened"),children:c.jsx("div",{children:t.childOption.map(x)})})]},t.id)};return c.jsx("div",{children:e.map(t=>x(t))})};export{P as C};
