import{r as O,G as ht,j as s,ak as Dt,C as mt,I as q,a1 as qt,aM as Kt,aN as Zt,aO as Jt,Z as Qt,S as en,aP as tn,V as nn,H as on,aQ as rn,aR as an,t as ln,aS as sn,D as ct,f as gt,g as It,aT as cn,aU as un,aV as dn,E as Fe,a5 as fn,a6 as pn,T as hn,aW as Et}from"./index-BIzDLPgR.js";import{S as Te}from"./index-1OFBHG92.js";const Ne=i=>{i.current?.scrollTo({top:0,behavior:"smooth"})},mn=(i,e,t)=>{if(window.getSelection()?.toString().trim())return;const o=i.target;if(o.closest(".label-cell")){t(e);return}o.closest(".interactive-box")||o.tagName!=="TD"||t(e)},gn=(i,e,t)=>{const n=i.target;n.closest(".interactive-box")||n.tagName!=="TR"||(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),t(e))},vn=(i,e)=>{e(t=>t.length===i.length||t.length>0?[]:i.map(n=>n.id))},bn=(i,e)=>{e(t=>t.includes(i)?[...t].filter(n=>n!=i):[...t,i])},xn=(i,e,t)=>{t(i===0||i===1?e.map(n=>n.id):[])},yn=(i,e,t)=>{const n=e.id;if(i.includes(e.id)){const o=[...i].filter(r=>r!==n);t(o,e)}else{const o=[...i,n];t(o,e)}};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function St(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,n)}return t}function oe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?St(Object(t),!0).forEach(function(n){wn(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):St(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function We(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?We=function(e){return typeof e}:We=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(i)}function wn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function re(){return re=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},re.apply(this,arguments)}function En(i,e){if(i==null)return{};var t={},n=Object.keys(i),o,r;for(r=0;r<n.length;r++)o=n[r],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function Sn(i,e){if(i==null)return{};var t=En(i,e),n,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}var _n="1.15.6";function le(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var se=le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Me=le(/Edge/i),_t=le(/firefox/i),Ce=le(/safari/i)&&!le(/chrome/i)&&!le(/android/i),vt=le(/iP(ad|od|hone)/i),At=le(/chrome/i)&&le(/android/i),Ft={capture:!1,passive:!1};function E(i,e,t){i.addEventListener(e,t,!se&&Ft)}function w(i,e,t){i.removeEventListener(e,t,!se&&Ft)}function Ve(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function Mt(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function te(i,e,t,n){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&Ve(i,e):Ve(i,e))||n&&i===t)return i;if(i===t)break}while(i=Mt(i))}return null}var Tt=/\s+/g;function z(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var n=(" "+i.className+" ").replace(Tt," ").replace(" "+e+" "," ");i.className=(n+(t?" "+e:"")).replace(Tt," ")}}function v(i,e,t){var n=i&&i.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function Se(i,e){var t="";if(typeof i=="string")t=i;else do{var n=v(i,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(i=i.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function Lt(i,e,t){if(i){var n=i.getElementsByTagName(e),o=0,r=n.length;if(t)for(;o<r;o++)t(n[o],o);return n}return[]}function ie(){var i=document.scrollingElement;return i||document.documentElement}function A(i,e,t,n,o){if(!(!i.getBoundingClientRect&&i!==window)){var r,a,l,c,d,f,u;if(i!==window&&i.parentNode&&i!==ie()?(r=i.getBoundingClientRect(),a=r.top,l=r.left,c=r.bottom,d=r.right,f=r.height,u=r.width):(a=0,l=0,c=window.innerHeight,d=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(e||t)&&i!==window&&(o=o||i.parentNode,!se))do if(o&&o.getBoundingClientRect&&(v(o,"transform")!=="none"||t&&v(o,"position")!=="static")){var p=o.getBoundingClientRect();a-=p.top+parseInt(v(o,"border-top-width")),l-=p.left+parseInt(v(o,"border-left-width")),c=a+r.height,d=l+r.width;break}while(o=o.parentNode);if(n&&i!==window){var b=Se(o||i),m=b&&b.a,y=b&&b.d;b&&(a/=y,l/=m,u/=m,f/=y,c=a+f,d=l+u)}return{top:a,left:l,bottom:c,right:d,width:u,height:f}}}function Nt(i,e,t){for(var n=fe(i,!0),o=A(i)[e];n;){var r=A(n)[t],a=void 0;if(a=o>=r,!a)return n;if(n===ie())break;n=fe(n,!1)}return!1}function _e(i,e,t,n){for(var o=0,r=0,a=i.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==g.ghost&&(n||a[r]!==g.dragged)&&te(a[r],t.draggable,i,!1)){if(o===e)return a[r];o++}r++}return null}function bt(i,e){for(var t=i.lastElementChild;t&&(t===g.ghost||v(t,"display")==="none"||e&&!Ve(t,e));)t=t.previousElementSibling;return t||null}function H(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==g.clone&&(!e||Ve(i,e))&&t++;return t}function jt(i){var e=0,t=0,n=ie();if(i)do{var o=Se(i),r=o.a,a=o.d;e+=i.scrollLeft*r,t+=i.scrollTop*a}while(i!==n&&(i=i.parentNode));return[e,t]}function Tn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===i[t][n])return Number(t)}return-1}function fe(i,e){if(!i||!i.getBoundingClientRect)return ie();var t=i,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=v(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ie();if(n||e)return t;n=!0}}while(t=t.parentNode);return ie()}function Nn(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function et(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var Oe;function Bt(i,e){return function(){if(!Oe){var t=arguments,n=this;t.length===1?i.call(n,t[0]):i.apply(n,t),Oe=setTimeout(function(){Oe=void 0},e)}}}function jn(){clearTimeout(Oe),Oe=void 0}function zt(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function Rt(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function Yt(i,e,t){var n={};return Array.from(i.children).forEach(function(o){var r,a,l,c;if(!(!te(o,e.draggable,i,!1)||o.animated||o===t)){var d=A(o);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,d.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,d.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,d.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var $="Sortable"+new Date().getTime();function kn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(v(o,"display")==="none"||o===g.ghost)){i.push({target:o,rect:A(o)});var r=oe({},i[i.length-1].rect);if(o.thisAnimationDuration){var a=Se(o,!0);a&&(r.top-=a.f,r.left-=a.e)}o.fromRect=r}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(Tn(i,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,a=0;i.forEach(function(l){var c=0,d=l.target,f=d.fromRect,u=A(d),p=d.prevFromRect,b=d.prevToRect,m=l.rect,y=Se(d,!0);y&&(u.top-=y.f,u.left-=y.e),d.toRect=u,d.thisAnimationDuration&&et(p,u)&&!et(f,u)&&(m.top-u.top)/(m.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(c=Cn(m,p,b,o.options)),et(u,f)||(d.prevFromRect=f,d.prevToRect=u,c||(c=o.options.animation),o.animate(d,m,u,c)),c&&(r=!0,a=Math.max(a,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),i=[]},animate:function(n,o,r,a){if(a){v(n,"transition",""),v(n,"transform","");var l=Se(this.el),c=l&&l.a,d=l&&l.d,f=(o.left-r.left)/(c||1),u=(o.top-r.top)/(d||1);n.animatingX=!!f,n.animatingY=!!u,v(n,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=Pn(n),v(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),v(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){v(n,"transition",""),v(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function Pn(i){return i.offsetWidth}function Cn(i,e,t,n){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var xe=[],tt={initializeByDefault:!0},Le={mount:function(e){for(var t in tt)tt.hasOwnProperty(t)&&!(t in e)&&(e[t]=tt[t]);xe.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),xe.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";xe.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](oe({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](oe({sortable:t},n)))})},initializePlugins:function(e,t,n,o){xe.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var d=new l(e,t,e.options);d.sortable=e,d.options=e.options,e[c]=d,re(n,d.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return xe.forEach(function(o){typeof o.eventProperties=="function"&&re(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return xe.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(o=r.optionListeners[t].call(e[r.pluginName],n))}),o}};function On(i){var e=i.sortable,t=i.rootEl,n=i.name,o=i.targetEl,r=i.cloneEl,a=i.toEl,l=i.fromEl,c=i.oldIndex,d=i.newIndex,f=i.oldDraggableIndex,u=i.newDraggableIndex,p=i.originalEvent,b=i.putSortable,m=i.extraEventProperties;if(e=e||t&&t[$],!!e){var y,_=e.options,R="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!se&&!Me?y=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(n,!0,!0)),y.to=a||t,y.from=l||t,y.item=o||t,y.clone=r,y.oldIndex=c,y.newIndex=d,y.oldDraggableIndex=f,y.newDraggableIndex=u,y.originalEvent=p,y.pullMode=b?b.lastPutMode:void 0;var k=oe(oe({},m),Le.getEventProperties(n,e));for(var N in k)y[N]=k[N];t&&t.dispatchEvent(y),_[R]&&_[R].call(e,y)}}var Dn=["evt"],G=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,r=Sn(n,Dn);Le.pluginEvent.bind(g)(e,t,oe({dragEl:h,parentEl:C,ghostEl:x,rootEl:j,nextEl:be,lastDownEl:Ge,cloneEl:P,cloneHidden:de,dragStarted:je,putSortable:F,activeSortable:g.active,originalEvent:o,oldIndex:Ee,oldDraggableIndex:De,newIndex:U,newDraggableIndex:ue,hideGhostForTarget:Ht,unhideGhostForTarget:$t,cloneNowHidden:function(){de=!0},cloneNowShown:function(){de=!1},dispatchSortableEvent:function(l){Y({sortable:t,name:l,originalEvent:o})}},r))};function Y(i){On(oe({putSortable:F,cloneEl:P,targetEl:h,rootEl:j,oldIndex:Ee,oldDraggableIndex:De,newIndex:U,newDraggableIndex:ue},i))}var h,C,x,j,be,Ge,P,de,Ee,U,De,ue,ze,F,we=!1,qe=!1,Ke=[],ge,ee,nt,it,kt,Pt,je,ye,Ie,Ae=!1,Re=!1,He,B,ot=[],ut=!1,Ze=[],Qe=typeof document<"u",Ye=vt,Ct=Me||se?"cssFloat":"float",In=Qe&&!At&&!vt&&"draggable"in document.createElement("div"),Xt=function(){if(Qe){if(se)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),Wt=function(e,t){var n=v(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=_e(e,0,t),a=_e(e,1,t),l=r&&v(r),c=a&&v(a),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+A(r).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+A(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var u=l.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===u)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=o&&n[Ct]==="none"||a&&n[Ct]==="none"&&d+f>o)?"vertical":"horizontal"},An=function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,l=n?t.left:t.top,c=n?t.right:t.bottom,d=n?t.width:t.height;return o===l||r===c||o+a/2===l+d/2},Fn=function(e,t){var n;return Ke.some(function(o){var r=o[$].options.emptyInsertThreshold;if(!(!r||bt(o))){var a=A(o),l=e>=a.left-r&&e<=a.right+r,c=t>=a.top-r&&t<=a.bottom+r;if(l&&c)return n=o}}),n},Gt=function(e){function t(r,a){return function(l,c,d,f){var u=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(r==null&&(a||u))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(l,c,d,f),a)(l,c,d,f);var p=(a?l:c).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var n={},o=e.group;(!o||We(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Ht=function(){!Xt&&x&&v(x,"display","none")},$t=function(){!Xt&&x&&v(x,"display","")};Qe&&!At&&document.addEventListener("click",function(i){if(qe)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),qe=!1,!1},!0);var ve=function(e){if(h){e=e.touches?e.touches[0]:e;var t=Fn(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[$]._onDragOver(n)}}},Mn=function(e){h&&h.parentNode[$]._isOutsideThisEl(e.target)};function g(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=re({},e),i[$]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&(!Ce||vt),emptyInsertThreshold:5};Le.initializePlugins(this,i,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Gt(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:In,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?E(i,"pointerdown",this._onTapStart):(E(i,"mousedown",this._onTapStart),E(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(i,"dragover",this),E(i,"dragenter",this)),Ke.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),re(this,kn())}g.prototype={constructor:g,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ye=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=o.filter;if(Gn(n),!h&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Ce&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=te(c,o.draggable,n,!1),!(c&&c.animated)&&Ge!==c)){if(Ee=H(c),De=H(c,o.draggable),typeof f=="function"){if(f.call(this,e,c,this)){Y({sortable:t,rootEl:d,name:"filter",targetEl:c,toEl:n,fromEl:n}),G("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=te(d,u.trim(),n,!1),u)return Y({sortable:t,rootEl:u,name:"filter",targetEl:c,fromEl:n,toEl:n}),G("filter",t,{evt:e}),!0}),f)){r&&e.preventDefault();return}o.handle&&!te(d,o.handle,n,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,n){var o=this,r=o.el,a=o.options,l=r.ownerDocument,c;if(n&&!h&&n.parentNode===r){var d=A(n);if(j=r,h=n,C=h.parentNode,be=h.nextSibling,Ge=n,ze=a.group,g.dragged=h,ge={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},kt=ge.clientX-d.left,Pt=ge.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",c=function(){if(G("delayEnded",o,{evt:e}),g.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!_t&&o.nativeDraggable&&(h.draggable=!0),o._triggerDragStart(e,t),Y({sortable:o,name:"choose",originalEvent:e}),z(h,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){Lt(h,f.trim(),rt)}),E(l,"dragover",ve),E(l,"mousemove",ve),E(l,"touchmove",ve),a.supportPointer?(E(l,"pointerup",o._onDrop),!this.nativeDraggable&&E(l,"pointercancel",o._onDrop)):(E(l,"mouseup",o._onDrop),E(l,"touchend",o._onDrop),E(l,"touchcancel",o._onDrop)),_t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),G("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Me||se))){if(g.eventCanceled){this._onDrop();return}a.supportPointer?(E(l,"pointerup",o._disableDelayedDrag),E(l,"pointercancel",o._disableDelayedDrag)):(E(l,"mouseup",o._disableDelayedDrag),E(l,"touchend",o._disableDelayedDrag),E(l,"touchcancel",o._disableDelayedDrag)),E(l,"mousemove",o._delayedDragTouchMoveHandler),E(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&E(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&rt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._disableDelayedDrag),w(e,"touchend",this._disableDelayedDrag),w(e,"touchcancel",this._disableDelayedDrag),w(e,"pointerup",this._disableDelayedDrag),w(e,"pointercancel",this._disableDelayedDrag),w(e,"mousemove",this._delayedDragTouchMoveHandler),w(e,"touchmove",this._delayedDragTouchMoveHandler),w(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):t?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(h,"dragend",this),E(j,"dragstart",this._onDragStart));try{document.selection?$e(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(we=!1,j&&h){G("dragStarted",this,{evt:t}),this.nativeDraggable&&E(document,"dragover",Mn);var n=this.options;!e&&z(h,n.dragClass,!1),z(h,n.ghostClass,!0),g.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ee){this._lastX=ee.clientX,this._lastY=ee.clientY,Ht();for(var e=document.elementFromPoint(ee.clientX,ee.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ee.clientX,ee.clientY),e!==t);)t=e;if(h.parentNode[$]._isOutsideThisEl(e),t)do{if(t[$]){var n=void 0;if(n=t[$]._onDragOver({clientX:ee.clientX,clientY:ee.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Mt(t));$t()}},_onTouchMove:function(e){if(ge){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=x&&Se(x,!0),l=x&&a&&a.a,c=x&&a&&a.d,d=Ye&&B&&jt(B),f=(r.clientX-ge.clientX+o.x)/(l||1)+(d?d[0]-ot[0]:0)/(l||1),u=(r.clientY-ge.clientY+o.y)/(c||1)+(d?d[1]-ot[1]:0)/(c||1);if(!g.active&&!we){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(x){a?(a.e+=f-(nt||0),a.f+=u-(it||0)):a={a:1,b:0,c:0,d:1,e:f,f:u};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");v(x,"webkitTransform",p),v(x,"mozTransform",p),v(x,"msTransform",p),v(x,"transform",p),nt=f,it=u,ee=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!x){var e=this.options.fallbackOnBody?document.body:j,t=A(h,!0,Ye,!0,e),n=this.options;if(Ye){for(B=e;v(B,"position")==="static"&&v(B,"transform")==="none"&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=ie()),t.top+=B.scrollTop,t.left+=B.scrollLeft):B=ie(),ot=jt(B)}x=h.cloneNode(!0),z(x,n.ghostClass,!1),z(x,n.fallbackClass,!0),z(x,n.dragClass,!0),v(x,"transition",""),v(x,"transform",""),v(x,"box-sizing","border-box"),v(x,"margin",0),v(x,"top",t.top),v(x,"left",t.left),v(x,"width",t.width),v(x,"height",t.height),v(x,"opacity","0.8"),v(x,"position",Ye?"absolute":"fixed"),v(x,"zIndex","100000"),v(x,"pointerEvents","none"),g.ghost=x,e.appendChild(x),v(x,"transform-origin",kt/parseInt(x.style.width)*100+"% "+Pt/parseInt(x.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;if(G("dragStart",this,{evt:e}),g.eventCanceled){this._onDrop();return}G("setupClone",this),g.eventCanceled||(P=Rt(h),P.removeAttribute("id"),P.draggable=!1,P.style["will-change"]="",this._hideClone(),z(P,this.options.chosenClass,!1),g.clone=P),n.cloneId=$e(function(){G("clone",n),!g.eventCanceled&&(n.options.removeCloneOnHide||j.insertBefore(P,h),n._hideClone(),Y({sortable:n,name:"clone"}))}),!t&&z(h,r.dragClass,!0),t?(qe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(w(document,"mouseup",n._onDrop),w(document,"touchend",n._onDrop),w(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,h)),E(document,"drop",n),v(h,"transform","translateZ(0)")),we=!0,n._dragStartId=$e(n._dragStarted.bind(n,t,e)),E(document,"selectstart",n),je=!0,window.getSelection().removeAllRanges(),Ce&&v(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,r,a,l=this.options,c=l.group,d=g.active,f=ze===c,u=l.sort,p=F||d,b,m=this,y=!1;if(ut)return;function _(L,me){G(L,m,oe({evt:e,isOwner:f,axis:b?"vertical":"horizontal",revert:a,dragRect:o,targetRect:r,canSort:u,fromSortable:p,target:n,completed:k,onMove:function(wt,Vt){return Xe(j,t,h,o,wt,A(wt),e,Vt)},changed:N},me))}function R(){_("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function k(L){return _("dragOverCompleted",{insertion:L}),L&&(f?d._hideClone():d._showClone(m),m!==p&&(z(h,F?F.options.ghostClass:d.options.ghostClass,!1),z(h,l.ghostClass,!0)),F!==m&&m!==g.active?F=m:m===g.active&&F&&(F=null),p===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){_("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===h&&!h.animated||n===t&&!n.animated)&&(ye=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(h.parentNode[$]._isOutsideThisEl(e.target),!L&&ve(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function N(){U=H(h),ue=H(h,l.draggable),Y({sortable:m,name:"change",toEl:t,newIndex:U,newDraggableIndex:ue,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=te(n,l.draggable,t,!0),_("dragOver"),g.eventCanceled)return y;if(h.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return k(!1);if(qe=!1,d&&!l.disabled&&(f?u||(a=C!==j):F===this||(this.lastPutMode=ze.checkPull(this,d,h,e))&&c.checkPut(this,d,h,e))){if(b=this._getDirection(e,n)==="vertical",o=A(h),_("dragOverValid"),g.eventCanceled)return y;if(a)return C=j,R(),this._hideClone(),_("revert"),g.eventCanceled||(be?j.insertBefore(h,be):j.appendChild(h)),k(!0);var S=bt(t,l.draggable);if(!S||Rn(e,b,this)&&!S.animated){if(S===h)return k(!1);if(S&&t===e.target&&(n=S),n&&(r=A(n)),Xe(j,t,h,o,n,r,e,!!n)!==!1)return R(),S&&S.nextSibling?t.insertBefore(h,S.nextSibling):t.appendChild(h),C=t,N(),k(!0)}else if(S&&zn(e,b,this)){var X=_e(t,0,l,!0);if(X===h)return k(!1);if(n=X,r=A(n),Xe(j,t,h,o,n,r,e,!1)!==!1)return R(),t.insertBefore(h,X),C=t,N(),k(!0)}else if(n.parentNode===t){r=A(n);var W=0,K,pe=h.parentNode!==t,T=!An(h.animated&&h.toRect||o,n.animated&&n.toRect||r,b),ne=b?"top":"left",D=Nt(n,"top","top")||Nt(h,"top","top"),ae=D?D.scrollTop:void 0;ye!==n&&(K=r[ne],Ae=!1,Re=!T&&l.invertSwap||pe),W=Yn(e,n,r,b,T?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Re,ye===n);var Z;if(W!==0){var J=H(h);do J-=W,Z=C.children[J];while(Z&&(v(Z,"display")==="none"||Z===x))}if(W===0||Z===n)return k(!1);ye=n,Ie=W;var he=n.nextElementSibling,Q=!1;Q=W===1;var M=Xe(j,t,h,o,n,r,e,Q);if(M!==!1)return(M===1||M===-1)&&(Q=M===1),ut=!0,setTimeout(Bn,30),R(),Q&&!he?t.appendChild(h):n.parentNode.insertBefore(h,Q?he:n),D&&zt(D,0,ae-D.scrollTop),C=h.parentNode,K!==void 0&&!Re&&(He=Math.abs(K-A(n)[ne])),N(),k(!0)}if(t.contains(h))return k(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){w(document,"mousemove",this._onTouchMove),w(document,"touchmove",this._onTouchMove),w(document,"pointermove",this._onTouchMove),w(document,"dragover",ve),w(document,"mousemove",ve),w(document,"touchmove",ve)},_offUpEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._onDrop),w(e,"touchend",this._onDrop),w(e,"pointerup",this._onDrop),w(e,"pointercancel",this._onDrop),w(e,"touchcancel",this._onDrop),w(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(U=H(h),ue=H(h,n.draggable),G("drop",this,{evt:e}),C=h&&h.parentNode,U=H(h),ue=H(h,n.draggable),g.eventCanceled){this._nulling();return}we=!1,Re=!1,Ae=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),dt(this.cloneId),dt(this._dragStartId),this.nativeDraggable&&(w(document,"drop",this),w(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ce&&v(document.body,"user-select",""),v(h,"transform",""),e&&(je&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),x&&x.parentNode&&x.parentNode.removeChild(x),(j===C||F&&F.lastPutMode!=="clone")&&P&&P.parentNode&&P.parentNode.removeChild(P),h&&(this.nativeDraggable&&w(h,"dragend",this),rt(h),h.style["will-change"]="",je&&!we&&z(h,F?F.options.ghostClass:this.options.ghostClass,!1),z(h,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:C,newIndex:null,newDraggableIndex:null,originalEvent:e}),j!==C?(U>=0&&(Y({rootEl:C,name:"add",toEl:C,fromEl:j,originalEvent:e}),Y({sortable:this,name:"remove",toEl:C,originalEvent:e}),Y({rootEl:C,name:"sort",toEl:C,fromEl:j,originalEvent:e}),Y({sortable:this,name:"sort",toEl:C,originalEvent:e})),F&&F.save()):U!==Ee&&U>=0&&(Y({sortable:this,name:"update",toEl:C,originalEvent:e}),Y({sortable:this,name:"sort",toEl:C,originalEvent:e})),g.active&&((U==null||U===-1)&&(U=Ee,ue=De),Y({sortable:this,name:"end",toEl:C,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){G("nulling",this),j=h=C=x=be=P=Ge=de=ge=ee=je=U=ue=Ee=De=ye=Ie=F=ze=g.dragged=g.ghost=g.clone=g.active=null,Ze.forEach(function(e){e.checked=!0}),Ze.length=nt=it=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),Ln(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,r=n.length,a=this.options;o<r;o++)t=n[o],te(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||Wn(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(r,a){var l=o.children[a];te(l,this.options.draggable,o,!1)&&(n[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(o.removeChild(n[r]),o.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return te(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=Le.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&Gt(n)},destroy:function(){G("destroy",this);var e=this.el;e[$]=null,w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart),w(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ke.splice(Ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!de){if(G("hideClone",this),g.eventCanceled)return;v(P,"display","none"),this.options.removeCloneOnHide&&P.parentNode&&P.parentNode.removeChild(P),de=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(de){if(G("showClone",this),g.eventCanceled)return;h.parentNode==j&&!this.options.group.revertClone?j.insertBefore(P,h):be?j.insertBefore(P,be):j.appendChild(P),this.options.group.revertClone&&this.animate(h,P),v(P,"display",""),de=!1}}};function Ln(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Xe(i,e,t,n,o,r,a,l){var c,d=i[$],f=d.options.onMove,u;return window.CustomEvent&&!se&&!Me?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=i,c.dragged=t,c.draggedRect=n,c.related=o||e,c.relatedRect=r||A(e),c.willInsertAfter=l,c.originalEvent=a,i.dispatchEvent(c),f&&(u=f.call(d,c,a)),u}function rt(i){i.draggable=!1}function Bn(){ut=!1}function zn(i,e,t){var n=A(_e(t.el,0,t.options,!0)),o=Yt(t.el,t.options,x),r=10;return e?i.clientX<o.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<o.top-r||i.clientY<n.bottom&&i.clientX<n.left}function Rn(i,e,t){var n=A(bt(t.el,t.options.draggable)),o=Yt(t.el,t.options,x),r=10;return e?i.clientX>o.right+r||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>o.bottom+r||i.clientX>n.right&&i.clientY>n.top}function Yn(i,e,t,n,o,r,a,l){var c=n?i.clientY:i.clientX,d=n?t.height:t.width,f=n?t.top:t.left,u=n?t.bottom:t.right,p=!1;if(!a){if(l&&He<d*o){if(!Ae&&(Ie===1?c>f+d*r/2:c<u-d*r/2)&&(Ae=!0),Ae)p=!0;else if(Ie===1?c<f+He:c>u-He)return-Ie}else if(c>f+d*(1-o)/2&&c<u-d*(1-o)/2)return Xn(e)}return p=p||a,p&&(c<f+d*r/2||c>u-d*r/2)?c>f+d/2?1:-1:0}function Xn(i){return H(h)<H(i)?1:-1}function Wn(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Gn(i){Ze.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Ze.push(n)}}function $e(i){return setTimeout(i,0)}function dt(i){return clearTimeout(i)}Qe&&E(document,"touchmove",function(i){(g.active||we)&&i.cancelable&&i.preventDefault()});g.utils={on:E,off:w,css:v,find:Lt,is:function(e,t){return!!te(e,t,e,!1)},extend:Nn,throttle:Bt,closest:te,toggleClass:z,clone:Rt,index:H,nextTick:$e,cancelNextTick:dt,detectDirection:Wt,getChild:_e,expando:$};g.get=function(i){return i[$]};g.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(g.utils=oe(oe({},g.utils),n.utils)),Le.mount(n)})};g.create=function(i,e){return new g(i,e)};g.version=_n;var I=[],ke,ft,pt=!1,at,lt,Je,Pe;function Hn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):n.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):(w(document,"pointermove",this._handleFallbackAutoScroll),w(document,"touchmove",this._handleFallbackAutoScroll),w(document,"mousemove",this._handleFallbackAutoScroll)),Ot(),Ue(),jn()},nulling:function(){Je=ft=ke=pt=Pe=at=lt=null,I.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,a);if(Je=t,n||this.options.forceAutoScrollFallback||Me||se||Ce){st(t,this.options,l,n);var c=fe(l,!0);pt&&(!Pe||r!==at||a!==lt)&&(Pe&&Ot(),Pe=setInterval(function(){var d=fe(document.elementFromPoint(r,a),!0);d!==c&&(c=d,Ue()),st(t,o.options,d,n)},10),at=r,lt=a)}else{if(!this.options.bubbleScroll||fe(l,!0)===ie()){Ue();return}st(t,this.options,fe(l,!1),!1)}}},re(i,{pluginName:"scroll",initializeByDefault:!0})}function Ue(){I.forEach(function(i){clearInterval(i.pid)}),I=[]}function Ot(){clearInterval(Pe)}var st=Bt(function(i,e,t,n){if(e.scroll){var o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=ie(),d=!1,f;ft!==t&&(ft=t,Ue(),ke=e.scroll,f=e.scrollFn,ke===!0&&(ke=fe(t,!0)));var u=0,p=ke;do{var b=p,m=A(b),y=m.top,_=m.bottom,R=m.left,k=m.right,N=m.width,S=m.height,X=void 0,W=void 0,K=b.scrollWidth,pe=b.scrollHeight,T=v(b),ne=b.scrollLeft,D=b.scrollTop;b===c?(X=N<K&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),W=S<pe&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(X=N<K&&(T.overflowX==="auto"||T.overflowX==="scroll"),W=S<pe&&(T.overflowY==="auto"||T.overflowY==="scroll"));var ae=X&&(Math.abs(k-o)<=a&&ne+N<K)-(Math.abs(R-o)<=a&&!!ne),Z=W&&(Math.abs(_-r)<=a&&D+S<pe)-(Math.abs(y-r)<=a&&!!D);if(!I[u])for(var J=0;J<=u;J++)I[J]||(I[J]={});(I[u].vx!=ae||I[u].vy!=Z||I[u].el!==b)&&(I[u].el=b,I[u].vx=ae,I[u].vy=Z,clearInterval(I[u].pid),(ae!=0||Z!=0)&&(d=!0,I[u].pid=setInterval((function(){n&&this.layer===0&&g.active._onTouchMove(Je);var he=I[this.layer].vy?I[this.layer].vy*l:0,Q=I[this.layer].vx?I[this.layer].vx*l:0;typeof f=="function"&&f.call(g.dragged.parentNode[$],Q,he,i,Je,I[this.layer].el)!=="continue"||zt(I[this.layer].el,Q,he)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&p!==c&&(p=fe(p,!1)));pt=d}},30),Ut=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var d=n||r;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(f.clientX,f.clientY);c(),d&&!d.el.contains(u)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function xt(){}xt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=_e(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Ut};re(xt,{pluginName:"revertOnSpill"});function yt(){}yt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Ut};re(yt,{pluginName:"removeOnSpill"});var V;function $n(){function i(){this.defaults={swapClass:"sortable-swap-highlight"}}return i.prototype={dragStart:function(t){var n=t.dragEl;V=n},dragOverValid:function(t){var n=t.completed,o=t.target,r=t.onMove,a=t.activeSortable,l=t.changed,c=t.cancel;if(a.options.swap){var d=this.sortable.el,f=this.options;if(o&&o!==d){var u=V;r(o)!==!1?(z(o,f.swapClass,!0),V=o):V=null,u&&u!==V&&z(u,f.swapClass,!1)}l(),n(!0),c()}},drop:function(t){var n=t.activeSortable,o=t.putSortable,r=t.dragEl,a=o||this.sortable,l=this.options;V&&z(V,l.swapClass,!1),V&&(l.swap||o&&o.options.swap)&&r!==V&&(a.captureAnimationState(),a!==n&&n.captureAnimationState(),Un(r,V),a.animateAll(),a!==n&&n.animateAll())},nulling:function(){V=null}},re(i,{pluginName:"swap",eventProperties:function(){return{swapItem:V}}})}function Un(i,e){var t=i.parentNode,n=e.parentNode,o,r;!t||!n||t.isEqualNode(e)||n.isEqualNode(i)||(o=H(i),r=H(e),t.isEqualNode(n)&&o<r&&r++,t.insertBefore(e,t.children[o]),n.insertBefore(i,n.children[r]))}g.mount(new Hn);g.mount(yt,xt);window._swapMounted||(g.mount(new $n),window._swapMounted=!0);const Vn=({ref:i,column:e,setColumn:t,columnShowList:n,tableConfig:o,onClickSortColumn:r,setIsColumnDragging:a,isColumnSwapable:l,isLoading:c,columnCheckboxState:d,onClickColumnCheckbox:f,onClickExpandAll:u,shape:p})=>{const{screenSize:b}=O.useContext(ht);return O.useEffect(()=>{if(!l||!i.current)return;const m=g.create(i.current,{animation:150,swap:!0,swapClass:"highlight-swap",chosenClass:"highlight-drag",handle:".drag-handle",onChoose:()=>{a(!0)},onUnchoose:()=>{a(!1)},onEnd:y=>{const _=[...e],R=_[y.newIndex],k=_[y.oldIndex];_[y.newIndex]=k,_[y.oldIndex]=R,t(_)},onMove:y=>!y.related.classList.contains("no-swap")});return()=>{m.destroy()}},[JSON.stringify(e),l,i.current]),s.jsx("thead",{className:"table-header",children:s.jsx("tr",{ref:i,children:e.map(m=>s.jsx("th",{className:m.key==="#checkbox"||m.key==="#expandable"?"no-swap":void 0,style:{width:m.size.size,minWidth:m.size.min,maxWidth:m.size.min,paddingLeft:m.key==="#checkbox"||m.key==="#expandable"?"var(--space-150)":void 0,paddingRight:m.key==="#checkbox"||m.key==="#expandable"?"var(--space-150)":void 0,display:n.includes(m.key)?void 0:"none"},children:s.jsxs("div",{className:"cell-header",children:[l&&m.key!=="#checkbox"&&m.key!=="#expandable"&&b!=="mobile"&&s.jsx("div",{className:c?"drag-handle-loading":"drag-handle",children:s.jsx(Dt,{className:"global-icon",size:18})}),m.key==="#checkbox"&&s.jsx("div",{className:"table-action-box interactive-box",children:s.jsx(mt,{className:"table-checkbox-button",isSelected:d===2,isIndeterminate:d===1,onClick:f,shape:p})}),m.key==="#expandable"&&s.jsx("div",{className:"table-action-box interactive-box",children:s.jsx(q,{className:"table-expand-button",icon:s.jsx(qt,{className:"global-icon"}),txtLabel:"Expand/Collapse All",onClick:u,appearance:"subtle"})}),m.txtLable,o&&r&&m.isCanSort&&m.type!=="row-action"&&s.jsx("div",{style:{flexGrow:"1",display:"flex",justifyContent:"end"},children:s.jsx(q,{className:"sort-button",icon:o.sortBy===m.key?o.isSortDesc?s.jsx(Kt,{className:"global-icon"}):s.jsx(Zt,{className:"global-icon"}):s.jsx(Jt,{className:"global-icon"}),appearance:"subtle",shape:p,txtLabel:o.sortBy===m.key?o.isSortDesc?"Chnage Sort To Asc":"Change Sort To Des":"Sort Asc",isSelected:o.sortBy===m.key,onClick:()=>{if(c)return;let y=m.key,_=!1;o.sortBy===m.key&&(_=!o.isSortDesc),r(y,_)}})})]})},m.key))})})},qn=({tableContainerRef:i,tableConfig:e,onSelectMaxRow:t,onClickPagination:n,isTableScrolled:o,selectedRowCount:r,isColumnSwapable:a,isLoading:l,column:c,setColumn:d,columnShowList:f,setColumnShowList:u,shape:p})=>{const{screenSize:b}=O.useContext(ht),m=O.useMemo(()=>{const N=e?.currentPage??1,S=e?.maxRow??1,X=e?.totalData??0,W=N*S-S+1,K=Math.min(N*S,X);return[W,K]},[e?.maxRow,e?.currentPage,e?.totalData]),y=[{id:"10",txtLabel:"10 Rows"},{id:"25",txtLabel:"25 Rows"},{id:"50",txtLabel:"50 Rows"},{id:"100",txtLabel:"100 Rows"}],_=Qt(()=>c.filter(S=>S.key!=="#checkbox"&&S.key!=="#expandable").map(S=>({id:S.key,txtLabel:S.txtLable,type:"option"})),[c]),[R,k]=O.useState(!1);return s.jsxs("div",{className:"table-footer-floating",style:{gridTemplateColumns:b==="laptop"?"1fr 1fr 1fr":"1fr max-content"},children:[e&&b==="laptop"&&s.jsx("div",{className:"footer-left",children:l?s.jsx(en,{size:"small"}):s.jsx("p",{children:s.jsxs("span",{children:["Showing ",m[0],"-",m[1]," of ",e?.totalData," ",r>0&&`, ${r} rows selected`]})})}),s.jsx("div",{className:"footer-pagination",style:{justifyContent:b==="laptop"?"center":"start"},children:e&&n&&s.jsxs(s.Fragment,{children:[s.jsx(q,{icon:s.jsx(tn,{className:"global-icon"}),txtLabel:"First Page",appearance:"subtle",isDisabled:e.currentPage===1,onClick:()=>{l||(n(1),Ne(i))},shape:p}),s.jsx(q,{icon:s.jsx(nn,{className:"global-icon"}),txtLabel:"Previous Page",appearance:"subtle",isDisabled:e.currentPage===1,onClick:()=>{l||(n(e.currentPage-1),Ne(i))},shape:p}),s.jsxs("p",{style:{width:"max-content"},children:["Page ",e.currentPage," / ",e.countPage]}),s.jsx(q,{icon:s.jsx(on,{className:"global-icon"}),txtLabel:"Next Page",appearance:"subtle",isDisabled:e.currentPage===e.countPage,onClick:()=>{l||(n(e.currentPage+1),Ne(i))},shape:p}),s.jsx(q,{icon:s.jsx(rn,{className:"global-icon"}),txtLabel:"Last Page",appearance:"subtle",isDisabled:e.currentPage===e.countPage,onClick:()=>{l||(n(e.countPage),Ne(i))},shape:p})]})}),s.jsxs("div",{className:"footer-right",children:[b==="mobile"?s.jsxs(s.Fragment,{children:[s.jsx(q,{icon:s.jsx(an,{className:"global-icon"}),txtLabel:"Table Settings",appearance:"subtle",onClick:()=>{k(!0)},shape:p,isDisabled:l}),s.jsx(ln,{className:"table-setting-bottom-sheet",isOpen:R,setIsOpen:k,txtTitle:"Table Setting",iconTitle:s.jsx(sn,{className:"global-icon"}),shape:p,children:s.jsx(Kn,{tableConfig:e,onSelectMaxRow:N=>{t&&t(N),k(!1)},maxRowOption:y,column:c,setColumn:d,columnShowList:f,setColumnShowList:u,isColumnSwapable:a,shape:p})})]}):e&&t?s.jsx(ct,{trigger:s.jsx(gt,{className:"max-row-button",txtLabel:`${e.maxRow} Rows`,iconAfter:s.jsx(It,{className:"global-icon"}),appearance:"subtle",shape:p,isDisabled:l}),optionSelected:[`${e.maxRow}`],options:y,onClick:N=>{t(parseInt(N))},floatingConfig:{isContainerWidthSameAsTrigger:!0,placement:"bottom-end",fallbackPlacement:["top-end"],isCloseOnItemClicked:!0},shape:p}):s.jsx(s.Fragment,{}),b!=="mobile"&&s.jsx(s.Fragment,{children:s.jsx(ct,{trigger:s.jsx(q,{icon:s.jsx(cn,{className:"global-icon"}),txtLabel:"Column",appearance:"subtle",shape:p,isDisabled:l}),optionSelected:f,onClick:N=>{u(S=>S.includes(N)?[...S].filter(X=>X!==N):[...S,N])},options:_,floatingConfig:{isWithCheckmark:!0,isContainerWidthSameAsTrigger:!0},shape:p})}),b!=="mobile"&&s.jsx(s.Fragment,{children:s.jsx(q,{icon:s.jsx(un,{className:"global-icon"}),txtLabel:"Go To Top",onClick:()=>{Ne(i)},isDisabled:!o,appearance:"subtle",shape:p})})]})]})},Kn=({tableConfig:i,onSelectMaxRow:e,maxRowOption:t,isColumnSwapable:n,column:o,setColumn:r,columnShowList:a,setColumnShowList:l,shape:c})=>{const d=O.useRef(null);return O.useEffect(()=>{if(!n||!d.current)return;const f=g.create(d.current,{animation:150,swap:!0,swapClass:"highlight-swap",chosenClass:"highlight-drag",handle:".drag-handle",onEnd:u=>{const p=[...o],b=p[u.newIndex],m=p[u.oldIndex];p[u.newIndex]=m,p[u.oldIndex]=b,r(p)},onMove:u=>!u.related.classList.contains("no-swap")});return()=>{f.destroy()}},[JSON.stringify(o),n,d.current]),s.jsxs("div",{children:[i&&e&&s.jsxs("div",{children:[s.jsx("p",{className:"section-title",children:"Max Row"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:t.map(f=>s.jsx(gt,{txtLabel:f.txtLabel,isSelected:`${i.maxRow}`===f.id,iconBefore:`${i.maxRow}`===f.id?s.jsx(dn,{className:"global-icon"}):void 0,onClick:()=>{e(parseInt(f.id))},shape:c},f.id))})]}),s.jsxs("div",{style:{marginTop:"var(--space-250)"},children:[s.jsx("p",{className:"section-title",children:"Column Order"}),s.jsx("div",{ref:d,className:"list-column-box",children:o.map(f=>s.jsxs("div",{className:Fe("item-column",{"no-swap":f.key==="#checkbox"||f.key==="#expandable"}),children:[n&&f.key!=="#checkbox"&&f.key!=="#expandable"&&s.jsx("div",{className:"drag-handle",style:{display:"flex",alignItems:"center"},children:s.jsx(Dt,{className:"global-icon",size:18})}),s.jsx("div",{style:{flexGrow:"1"},children:f.key==="#checkbox"?"Checkbox":f.key==="#expandable"?"Expandable":f.txtLable}),f.key!=="#checkbox"&&f.key!=="#expandable"&&s.jsxs(s.Fragment,{children:[a.includes(f.key)?s.jsx(pn,{}):s.jsx(fn,{}),s.jsx(mt,{isSelected:a.includes(f.key),onClick:()=>{const u=f.key;l(p=>p.includes(u)?[...p].filter(b=>b!==u):[...p,u])},shape:c})]})]},f.key))})]})]})},Zn=({rowData:i,onClickRow:e,onClickRowAction:t,onClickRowCheckbox:n,column:o,columnShowList:r,isSelected:a,isExpanded:l,onClickExpandButton:c,shape:d})=>{const f=O.useMemo(()=>e!==void 0,[e]);return s.jsxs(s.Fragment,{children:[s.jsx("tr",{className:Fe({"row-clickable":f,"row-selected":a}),role:"button",tabIndex:f?0:-1,onKeyDown:u=>{e&&gn(u,i,e)},onClick:u=>{e&&mn(u,i,e)},children:o.map(u=>s.jsx("td",{style:{paddingLeft:u.key==="#checkbox"||u.key==="#expandable"?"var(--space-150)":void 0,paddingRight:u.key==="#checkbox"||u.key==="#expandable"?"var(--space-150)":void 0,paddingBottom:u.key==="#expandable"?"0px":void 0,width:u.size.size,minWidth:u.size.min,maxWidth:u.size.min,textAlign:u.horizontalAlign==="center"?"center":u.horizontalAlign==="end"?"end":"start",verticalAlign:u.verticalAlign==="middle"?"middle":u.verticalAlign==="bottom"?"bottom":"top",display:r.includes(u.key)?void 0:"none"},children:u.key==="#checkbox"?s.jsx("div",{className:"table-action-box interactive-box",children:s.jsx(mt,{className:"table-checkbox-button",isSelected:a,onClick:()=>{n&&n(i)},shape:d})}):u.key==="#expandable"&&i.expandedPage?s.jsxs("div",{className:"table-action-box interactive-box",style:l?{height:"100%",display:"grid",gridTemplateRows:"max-content 1fr",margin:"0px"}:{},children:[s.jsx(q,{className:"table-expand-button",icon:l?s.jsx(hn,{className:"global-icon"}):s.jsx(It,{className:"global-icon"}),isSelected:l,appearance:"subtle",txtLabel:l?"Collapse":"Expand",onClick:()=>{c(i.id)}}),l&&s.jsx("div",{style:{width:"1px",height:"100%",marginLeft:"var(--space-150)",borderLeft:"1px solid var(--clr-border-primary)"}})]}):u.type==="row-action"&&u.actionButtonList?s.jsx("div",{className:"table-action-box interactive-box",children:u.actionButtonList.map((p,b)=>s.jsxs(O.Fragment,{children:[p.type==="button"&&s.jsx(gt,{className:"table-action-button",txtLabel:p.txtLabel,iconBefore:p.icon,onClick:()=>{t&&t(p.id,i)},shape:d}),p.type==="icon-button"&&s.jsx(q,{className:"table-action-icon-button",txtLabel:p.txtLabel,icon:p.icon??s.jsx(Et,{className:"global-icon"}),onClick:()=>{t&&t(p.id,i)},shape:d}),p.type==="dropdown-menu"&&s.jsx(ct,{trigger:s.jsx(q,{className:"table-action-icon-button",txtLabel:p.txtLabel,icon:p.icon??s.jsx(Et,{className:"global-icon"}),shape:d}),options:p.option??[],floatingConfig:{isCloseOnItemClicked:!0},onClick:m=>{t&&t(m,i)},shape:d})]},`${p.id}-${b}`))}):Array.isArray(i[u.key])?s.jsx(s.Fragment,{children:i[u.key].map(p=>s.jsx(O.Fragment,{children:typeof p=="string"?s.jsx("span",{className:"label-cell",style:{display:"inline-block"},children:p}):s.jsx(s.Fragment,{children:p})},`${p}`))}):s.jsx(s.Fragment,{children:i[u.key]})},u.key))},i.id),i.expandedPage&&l&&s.jsx(Jn,{isExpanded:l,rowData:i.expandedPage,colSpan:o.length-1})]})},Jn=({isExpanded:i,colSpan:e,rowData:t})=>s.jsxs("tr",{className:Fe("expanded-content-box",i?"open":"close"),style:{maxHeight:"0px"},children:[s.jsx("td",{className:"table-expanded-span-box",children:s.jsx("div",{className:"table-expanded-span"})}),s.jsx("td",{className:"table-expanded-box",colSpan:e,children:s.jsx(s.Fragment,{children:t})})]}),ce=({column:i,columnShowList:e,shape:t})=>s.jsx(s.Fragment,{children:s.jsx("tr",{className:"loading",children:i.map(n=>s.jsx("td",{style:{paddingLeft:n.key==="#checkbox"||n.key==="#expandable"?"var(--space-150)":void 0,paddingRight:n.key==="#checkbox"||n.key==="#expandable"?"var(--space-150)":void 0,paddingBottom:n.key==="#expandable"?"0px":void 0,width:n.size.size,minWidth:n.size.min,textAlign:n.horizontalAlign==="center"?"center":n.horizontalAlign==="end"?"end":"start",verticalAlign:n.verticalAlign==="middle"?"middle":n.verticalAlign==="bottom"?"bottom":"top",display:e.includes(n.key)?void 0:"none"},children:n.key==="#checkbox"?s.jsx("div",{className:"table-action-box interactive-box",style:{width:"23.2px",display:"flex",justifyContent:"center"},children:s.jsx(Te,{shape:t,height:16,width:16})}):n.key==="#expandable"?s.jsx("div",{className:"table-action-box interactive-box",style:{width:"25.6px",display:"flex",justifyContent:"center"},children:s.jsx(Te,{shape:t,height:16,width:16})}):n.type==="row-action"&&n.actionButtonList?s.jsxs("div",{style:{display:"flex",gap:"var(--space-100)"},children:[s.jsx(Te,{shape:t,width:"50%",style:{margin:"0px"}}),s.jsx(Te,{shape:t,width:"50%",style:{margin:"0px"}})]}):s.jsx(Te,{shape:t})},n.key))})}),ti=({className:i,shape:e,tableData:t=[],tableColumn:n=[],tableConfig:o=void 0,onClickSortColumn:r=void 0,onSelectMaxRow:a=void 0,selectedRow:l=[],onClickRow:c=void 0,onClickRowAction:d=void 0,onClickRowCheckbox:f=void 0,onClickPagination:u=void 0,isColumnSwapable:p=!1,isShowFooter:b=!1,isCheckbox:m=!1,isExpandable:y=!1,isLoading:_=!1,isFillContainer:R=!1})=>{const{globalShape:k}=O.useContext(ht),[N,S]=O.useState(!1),X=O.useRef(null),W=O.useRef(null),[K,pe]=O.useState(!1),[T,ne]=O.useState(n),[D,ae]=O.useState(T.map(M=>M.key));O.useEffect(()=>{const M=T.map(L=>L.key);m&&!M.includes("#checkbox")&&ne(L=>{const me=[{key:"#checkbox",size:{size:"0%",min:"23px"},txtLable:""},...L];return ae(me.map(Be=>Be.key)),me}),y&&!M.includes("#expandable")&&ne(L=>{const me=[{key:"#expandable",size:{size:"0%",min:"23px"},txtLable:""},...L];return ae(me.map(Be=>Be.key)),me})},[]);const[Z,J]=O.useState([]),he=O.useMemo(()=>l.length,[l]),Q=O.useMemo(()=>l.length===0?0:l.length===t.length?2:1,[l]);return O.useEffect(()=>{J([]),f&&f([])},[o]),s.jsxs("div",{className:Fe("table-container",e||k,{"fill-container":R},i),children:[s.jsxs("div",{className:"table-box",ref:X,style:{maxHeight:"100%",overflowY:K?"hidden":"auto"},onScroll:M=>{M.target.scrollTop>0?S(!0):S(!1)},children:[s.jsx("table",{className:Fe("table-header-floating"),children:s.jsx(Vn,{ref:W,column:T,setColumn:ne,columnShowList:D,tableConfig:o,onClickSortColumn:r,setIsColumnDragging:pe,isColumnSwapable:p,isLoading:_,columnCheckboxState:Q,onClickColumnCheckbox:()=>{f&&!_&&xn(Q,t,f)},onClickExpandAll:()=>{_||vn(t,J)},shape:e})}),s.jsx("table",{className:"table-data",style:{height:"1px"},children:s.jsx("tbody",{className:"table-body",children:_?s.jsxs(s.Fragment,{children:[s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e}),s.jsx(ce,{column:T,columnShowList:D,shape:e})]}):s.jsx(s.Fragment,{children:t.map(M=>s.jsx(Zn,{rowData:M,column:T,columnShowList:D,onClickRow:c,onClickRowAction:d,onClickRowCheckbox:L=>{f&&yn(l,L,f)},isSelected:l.includes(M.id),isExpanded:Z.includes(M.id),onClickExpandButton:L=>{bn(L,J)},shape:e},M.id))})})})]}),b&&s.jsx(qn,{tableContainerRef:X,tableConfig:o,onSelectMaxRow:a,onClickPagination:u,isTableScrolled:N,selectedRowCount:he,column:T,setColumn:ne,columnShowList:D,setColumnShowList:ae,isColumnSwapable:p,isLoading:_,shape:e})]})};export{ti as T};
